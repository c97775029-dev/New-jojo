<script>
    // ... inside the start function ...
    function start(char) {
        matchActive = true;
        document.getElementById('quitBtn').style.display = 'block';
        if(char=='coco'){
            isAdmin=true; pCool=10; // Admin speed
            // ... (rest of coco setup)
        } else {
            isAdmin=false; pCool=750; // RESTORED Jotaro speed
            // ... (rest of jotaro setup)
        }
    }

    // New Attack Logic with Cooldown Visuals
    document.getElementById('atkBtn').onclick = () => {
        if(gOver || pStunned || !matchActive || !canAttack) return;
        
        // Trigger Attack
        canAttack = false;
        const btn = document.getElementById('atkBtn');
        if(!isAdmin) btn.style.opacity = "0.5"; // Dim button
        
        eHits = 0; eComboDmg = 0;
        applyHit('e', isAdmin ? 1000 : 5, isAdmin ? "#0f0" : "#ff0");
        p.position.x = -1; 
        
        setTimeout(() => {
            p.position.x = -2;
            // Cooldown Timer
            setTimeout(() => {
                canAttack = true;
                btn.style.opacity = "1"; // Restore button
            }, pCool);
        }, 50);
    };
</script>
